import{p as Ie,t as _,a as C,e as k,s as Se,c as Te}from"../chunks/Dbnj0bGu.js";import{i as ie}from"../chunks/B_3YA5R0.js";import{p as N,g as f,t as q,i as L,j as E,a3 as V,V as R,a4 as re,k as I,a5 as K,G as B,O as j,e as Z,a6 as Ce,a2 as $}from"../chunks/DmLtTJDz.js";import{a as O,r as Ee,b as se,c as Ve,I as oe,e as G,i as M}from"../chunks/JuJbzqBE.js";import{p as o,r as le,i as W}from"../chunks/2wA9cZ7W.js";import{c as _e,a as we,b as ke,d as De,t as Re,i as xe,e as Oe,f as qe,g as de,q as Pe,h as p,v as Fe,j as Ae,k as Be,u as je,s as He,l as ue,n as Ne,m as Le}from"../chunks/IWNGC0P3.js";var Ue=we("radio-group").parts("root","label","item","itemText","itemControl","indicator"),D=Ue.build(),H=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},ee=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},ce=(t,e)=>{var a,i;return((i=(a=t.ids)==null?void 0:a.item)==null?void 0:i.call(a,e))??`radio-group:${t.id}:radio:${e}`},Y=(t,e)=>{var a,i;return((i=(a=t.ids)==null?void 0:a.itemHiddenInput)==null?void 0:i.call(a,e))??`radio-group:${t.id}:radio:input:${e}`},ze=(t,e)=>{var a,i;return((i=(a=t.ids)==null?void 0:a.itemControl)==null?void 0:i.call(a,e))??`radio-group:${t.id}:radio:control:${e}`},Ke=(t,e)=>{var a,i;return((i=(a=t.ids)==null?void 0:a.itemLabel)==null?void 0:i.call(a,e))??`radio-group:${t.id}:radio:label:${e}`},ve=t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},U=t=>t.getById(H(t)),Ge=(t,e)=>t.getById(Y(t,e)),Me=t=>t.getById(ve(t)),We=t=>{var e;return(e=U(t))==null?void 0:e.querySelector("input:not(:disabled)")},Ye=t=>{var e;return(e=U(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},te=t=>{const a=`input[type=radio][data-ownedby='${CSS.escape(H(t))}']:not([disabled])`;return Pe(U(t),a)},Je=(t,e)=>{if(e)return t.getById(ce(t,e))},Qe=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),Xe=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function Ze(t,e){const{context:a,send:i,computed:u,prop:r,scope:d}=t,g=u("isDisabled"),b=r("readOnly");function v(n){const s=a.get("focusedValue")===n.value,l=s&&Be();return{value:n.value,invalid:!!n.invalid,disabled:!!n.disabled||g,checked:a.get("value")===n.value,focused:s,focusVisible:l,hovered:a.get("hoveredValue")===n.value,active:a.get("activeValue")===n.value}}function m(n){const s=v(n);return{"data-focus":p(s.focused),"data-focus-visible":p(s.focusVisible),"data-disabled":p(s.disabled),"data-readonly":p(b),"data-state":s.checked?"checked":"unchecked","data-hover":p(s.hovered),"data-invalid":p(s.invalid),"data-orientation":r("orientation"),"data-ssr":p(a.get("ssr"))}}const c=()=>{const n=Ye(d)??We(d);n==null||n.focus()};return{focus:c,value:a.get("value"),setValue(n){i({type:"SET_VALUE",value:n,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...D.root.attrs,role:"radiogroup",id:H(d),"aria-labelledby":ee(d),"data-orientation":r("orientation"),"data-disabled":p(g),"aria-orientation":r("orientation"),dir:r("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...D.label.attrs,dir:r("dir"),"data-orientation":r("orientation"),"data-disabled":p(g),id:ee(d),onClick:c})},getItemState:v,getItemProps(n){const s=v(n);return e.label({...D.item.attrs,dir:r("dir"),id:ce(d,n.value),htmlFor:Y(d,n.value),...m(n),onPointerMove(){s.disabled||s.hovered||i({type:"SET_HOVERED",value:n.value,hovered:!0})},onPointerLeave(){s.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(l){s.disabled||(s.focused&&l.pointerType==="mouse"&&l.preventDefault(),i({type:"SET_ACTIVE",value:n.value,active:!0}))},onPointerUp(){s.disabled||i({type:"SET_ACTIVE",value:null})},onClick(){var l;!s.disabled&&Ae()&&((l=Ge(d,n.value))==null||l.focus())}})},getItemTextProps(n){return e.element({...D.itemText.attrs,dir:r("dir"),id:Ke(d,n.value),...m(n)})},getItemControlProps(n){const s=v(n);return e.element({...D.itemControl.attrs,dir:r("dir"),id:ze(d,n.value),"data-active":p(s.active),"aria-hidden":!0,...m(n)})},getItemHiddenInputProps(n){const s=v(n);return e.input({"data-ownedby":H(d),id:Y(d,n.value),type:"radio",name:r("name")||r("id"),form:r("form"),value:n.value,onClick(l){if(b){l.preventDefault();return}l.currentTarget.checked&&i({type:"SET_VALUE",value:n.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){i({type:"SET_FOCUSED",value:n.value,focused:!0})},onKeyDown(l){l.defaultPrevented||l.key===" "&&i({type:"SET_ACTIVE",value:n.value,active:!0})},onKeyUp(l){l.defaultPrevented||l.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:s.disabled,defaultChecked:s.checked,style:Fe})},getIndicatorProps(){const n=a.get("indicatorRect");return e.element({id:ve(d),...D.indicator.attrs,dir:r("dir"),hidden:a.get("value")==null,"data-disabled":p(g),"data-orientation":r("orientation"),style:{"--transition-property":"left, top, width, height","--left":n==null?void 0:n.left,"--top":n==null?void 0:n.top,"--width":n==null?void 0:n.width,"--height":n==null?void 0:n.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:a.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[r("orientation")==="horizontal"?"left":"top"]:r("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:$e}=ke(),et=_e({props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(a){var i;(i=t("onValueChange"))==null||i({value:a})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:a}){t([()=>a.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:$e("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return qe(U(e),{onFieldsetDisabledChange(a){t.set("fieldsetDisabled",a)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){var e;return Oe({root:(e=t.getRootNode)==null?void 0:e.call(t)})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e}){t.set("focusedValue",e.value)},syncInputElements({context:t,scope:e}){te(e).forEach(i=>{i.checked=i.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",xe(t.get("value")))},cleanupObserver({refs:t}){var e;(e=t.get("indicatorCleanup"))==null||e()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:a}){var d;if((d=a.get("indicatorCleanup"))==null||d(),!Me(e))return;const i=t.get("value"),u=Je(e,i);if(i==null||!u){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const r=Re([u],{measure(g){return Qe(g)},onEntry({rects:g}){t.set("indicatorRect",Xe(g[0]))}});a.set("indicatorCleanup",r)},dispatchChangeEvent({context:t,scope:e}){te(e).forEach(i=>{const u=i.value===t.get("value");u!==i.checked&&De(i,{checked:u})})}}}});de()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);de()(["value","disabled","invalid"]);var tt=_("<div><div></div> <!></div>");function at(t,e){const a=Ie();N(e,!0);const i=o(e,"base",3,"inline-flex items-stretch overflow-hidden"),u=o(e,"background",3,"preset-outlined-surface-200-800"),r=o(e,"border",3,"p-2"),d=o(e,"gap",3,"gap-2"),g=o(e,"padding",3,""),b=o(e,"rounded",3,"rounded-container"),v=o(e,"width",3,""),m=o(e,"classes",3,""),c=o(e,"orientVertical",3,"flex-col items-stretch"),n=o(e,"orientHorizontal",3,"flex-row"),s=o(e,"stateDisabled",3,"disabled"),l=o(e,"stateReadOnly",3,"pointer-events-none"),y=o(e,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),h=o(e,"indicatorBg",3,"preset-filled"),S=o(e,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),T=o(e,"indicatorRounded",3,"rounded-base"),P=o(e,"indicatorClasses",3,""),F=o(e,"labelledby",3,""),z=le(e,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),w=je(et,()=>({id:a,orientation:e.orientation??"horizontal",...z})),x=V(()=>Ze(w,Ne));He({get api(){return f(x)},get indicatorText(){return S()}});const ge=V(()=>w.prop("orientation")==="vertical"?c():n()),me=V(()=>w.prop("disabled")?s():""),he=V(()=>w.prop("readOnly")?l():"");var A=tt();let J;var Q=E(A);let X;var be=R(Q,2);ue(be,()=>e.children??re),I(A),q((ye,pe)=>{J=O(A,J,{...ye,class:`${i()??""} ${f(ge)??""} ${u()??""} ${r()??""} ${g()??""} ${d()??""} ${b()??""} ${v()??""} ${f(me)??""} ${f(he)??""} ${m()??""}`,"aria-labelledby":F(),"data-testid":"segment"}),X=O(Q,X,{...pe,class:`${y()??""} ${h()??""} ${T()??""} ${P()??""}`,"data-testid":"segment-indicator"})},[()=>f(x).getRootProps(),()=>f(x).getIndicatorProps()]),C(t,A),L()}var nt=_("<label><span><!></span> <input></label>");function it(t,e){N(e,!0);let a=o(e,"base",3,"btn cursor-pointer z-[1]"),i=o(e,"classes",3,""),u=o(e,"stateDisabled",3,"disabled"),r=o(e,"stateFocused",3,"focused"),d=o(e,"labelBase",3,"pointer-events-none transition-colors duration-100"),g=o(e,"labelClasses",3,""),b=le(e,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const v=Le(),m=V(()=>v.api.getItemState(b)),c=V(()=>f(m).disabled?u():""),n=V(()=>f(m).checked?v.indicatorText:""),s=V(()=>f(m).focused?r():"");var l=nt();let y;var h=E(l);let S;var T=E(h);ue(T,()=>e.children??re),I(h);var P=R(h,2);Ee(P);let F;I(l),q((z,w,x)=>{y=O(l,y,{...z,class:`${a()??""} ${f(c)??""} ${f(s)??""} ${i()??""}`,"data-testid":"segment-item"}),S=O(h,S,{...w,class:`${d()??""} ${f(n)??""} ${g()??""}`,"data-testid":"segment-item-label"}),F=O(P,F,{...x,"data-testid":"segment-item-input"})},[()=>v.api.getItemProps(b),()=>v.api.getItemTextProps(b),()=>v.api.getItemHiddenInputProps(b)]),C(t,l),L()}const ae=Object.assign(at,{Item:it}),rt=["sine","square","sawtooth","triangle"],st=[{name:{ja:"ド",en:"C"},octave:4,frequency:261.63,isSharp:!1},{name:{ja:"ド#",en:"C#"},octave:4,frequency:277.18,isSharp:!0},{name:{ja:"レ",en:"D"},octave:4,frequency:293.66,isSharp:!1},{name:{ja:"レ#",en:"D#"},octave:4,frequency:311.13,isSharp:!0},{name:{ja:"ミ",en:"E"},octave:4,frequency:329.63,isSharp:!1},{name:{ja:"ファ",en:"F"},octave:4,frequency:349.23,isSharp:!1},{name:{ja:"ファ#",en:"F#"},octave:4,frequency:369.99,isSharp:!0},{name:{ja:"ソ",en:"G"},octave:4,frequency:392,isSharp:!1},{name:{ja:"ソ#",en:"G#"},octave:4,frequency:415.3,isSharp:!0},{name:{ja:"ラ",en:"A"},octave:4,frequency:440,isSharp:!1},{name:{ja:"ラ#",en:"A#"},octave:4,frequency:466.16,isSharp:!0},{name:{ja:"シ",en:"B"},octave:4,frequency:493.88,isSharp:!1},{name:{ja:"ド",en:"C"},octave:5,frequency:523.25,isSharp:!1}];function fe(t=0){const e=Math.pow(2,t);return st.map(({name:a,octave:i,frequency:u,isSharp:r})=>({name:a,octave:i+t,frequency:u*e,isSharp:r}))}fe(0);function ot(t,e,a){const i=t(),u=i.createOscillator(),r=i.createGain();return u.connect(r),r.connect(i.destination),u.type=e,u.frequency.setValueAtTime(a,i.currentTime),r.gain.setValueAtTime(.1,i.currentTime),u.start(),i}function lt(t){t.close()}var dt=_("<span> </span>"),ut=_("<button><!> <!></button>");function ne(t,e){N(e,!1);let a=o(e,"frequency",8),i=o(e,"waveType",8),u=o(e,"label",8,void 0),r=o(e,"iconName",8,void 0),d=o(e,"className",8,void 0),g=null;const b=()=>new window.AudioContext;function v(h){h.preventDefault(),g||(g=ot(b,i(),a()))}function m(h){h.preventDefault(),g&&(lt(g),g=null)}ie();var c=ut(),n=E(c);{var s=h=>{oe(h,{get icon(){return r()},class:"size-4"})};W(n,h=>{r()&&h(s)})}var l=R(n,2);{var y=h=>{var S=dt(),T=E(S,!0);I(S),q(()=>Se(T,u())),C(h,S)};W(l,h=>{u()&&h(y)})}I(c),q(()=>se(c,1,Ve(d()??"btn preset-filled"))),k("mousedown",c,v),k("mouseup",c,m),k("mouseleave",c,m),k("touchstart",c,v),k("touchend",c,m),k("touchcancel",c,m),C(t,c),L()}var ct=_('<div class="relative flex-1"><!> <!></div>'),vt=_('<div class="w-80 h-32"><div></div></div>');function ft(t,e){N(e,!1);const a=j(),i=j(),u=j();let r=o(e,"waveType",8),d=o(e,"octaveShift",8),g=o(e,"includeRightC",8,!0);const b=[0,1,null,2,3,4,null,null];K(()=>Z(d()),()=>{B(a,fe(d()))}),K(()=>(Z(g()),f(a)),()=>{B(i,g()?f(a).filter(c=>!c.isSharp):f(a).filter(c=>!c.isSharp).slice(0,-1))}),K(()=>f(a),()=>{B(u,f(a).filter(c=>c.isSharp))}),Ce(),ie();var v=vt(),m=E(v);G(m,5,()=>f(i),M,(c,n,s)=>{var l=ct(),y=E(l);ne(y,{get frequency(){return f(n).frequency},get waveType(){return r()},className:"w-full h-full bg-white border border-gray-300 rounded-sm"});var h=R(y,2);{var S=T=>{ne(T,{get frequency(){return f(u)[b[s]].frequency},get waveType(){return r()},className:`
            absolute z-10 top-0 right-0 transform translate-x-1/2 w-3/5 h-3/5 bg-black rounded-lg pointer-events-auto
            `})};W(h,T=>{b[s]!==null&&T(S)})}I(l),C(c,l)}),I(m),I(v),q(()=>se(m,1,`w-full h-full grid grid-cols-${f(i).length??""}`)),C(t,v),L()}var gt=_('<div class="mt-4 flex items-center justify-center space-x-4"><!></div> <div class="flex"></div>',1);function mt(t,e){let a=o(e,"numOfOctaves",8,1);const i=Array.from({length:a()},(v,m)=>m-Math.floor(a()/2));let u=j("triangle");var r=gt(),d=$(r),g=E(d);ae(g,{name:"waveType",get value(){return f(u)},onValueChange:v=>B(u,v.value),children:(v,m)=>{var c=Te(),n=$(c);G(n,1,()=>rt,M,(s,l)=>{ae.Item(s,{get value(){return f(l)},children:(y,h)=>{oe(y,{get icon(){return`mdi:${f(l)??""}-wave`},class:"size-4"})},$$slots:{default:!0}})}),C(v,c)},$$slots:{default:!0}}),I(d);var b=R(d,2);G(b,5,()=>i,M,(v,m)=>{ft(v,{get waveType(){return f(u)},get octaveShift(){return f(m)},includeRightC:!1})}),I(b),C(t,r)}var ht=_('<div class="flex flex-col items-center justify-center p-4 space-y-4"><h2 class="h2">Example Page</h2> <p class="mt-4">This is an example page.</p> <p class="mt-2">You can add your content here.</p> <hr class="w-full"> <!></div>');function Ct(t){var e=ht(),a=R(E(e),8);mt(a,{numOfOctaves:3}),I(e),C(t,e)}export{Ct as component};
