import{p as Ie,t as _,a as C,e as z,s as Se,c as Te}from"../chunks/Dbnj0bGu.js";import{i as ne}from"../chunks/B_3YA5R0.js";import{p as H,g as c,t as O,i as N,j as E,a3 as V,V as R,a4 as re,k as p,a5 as K,G as A,O as B,e as Z,a6 as Ce,a2 as $}from"../chunks/DmLtTJDz.js";import{a as D,r as Ee,b as se,c as Ve,I as oe,e as G,i as M}from"../chunks/JuJbzqBE.js";import{p as o,r as le,i as W}from"../chunks/2wA9cZ7W.js";import{c as _e,a as we,b as ke,d as Re,t as xe,i as De,e as Oe,f as qe,g as de,q as Pe,h as y,v as Fe,j as Ae,k as Be,u as je,s as He,l as ue,n as Ne,m as Le}from"../chunks/IWNGC0P3.js";var Ue=we("radio-group").parts("root","label","item","itemText","itemControl","indicator"),k=Ue.build(),j=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},ee=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},ce=(t,e)=>{var a,n;return((n=(a=t.ids)==null?void 0:a.item)==null?void 0:n.call(a,e))??`radio-group:${t.id}:radio:${e}`},Y=(t,e)=>{var a,n;return((n=(a=t.ids)==null?void 0:a.itemHiddenInput)==null?void 0:n.call(a,e))??`radio-group:${t.id}:radio:input:${e}`},ze=(t,e)=>{var a,n;return((n=(a=t.ids)==null?void 0:a.itemControl)==null?void 0:n.call(a,e))??`radio-group:${t.id}:radio:control:${e}`},Ke=(t,e)=>{var a,n;return((n=(a=t.ids)==null?void 0:a.itemLabel)==null?void 0:n.call(a,e))??`radio-group:${t.id}:radio:label:${e}`},ve=t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},L=t=>t.getById(j(t)),Ge=(t,e)=>t.getById(Y(t,e)),Me=t=>t.getById(ve(t)),We=t=>{var e;return(e=L(t))==null?void 0:e.querySelector("input:not(:disabled)")},Ye=t=>{var e;return(e=L(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},te=t=>{const a=`input[type=radio][data-ownedby='${CSS.escape(j(t))}']:not([disabled])`;return Pe(L(t),a)},Je=(t,e)=>{if(e)return t.getById(ce(t,e))},Qe=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),Xe=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function Ze(t,e){const{context:a,send:n,computed:d,prop:r,scope:u}=t,v=d("isDisabled"),m=r("readOnly");function g(i){const s=a.get("focusedValue")===i.value,l=s&&Be();return{value:i.value,invalid:!!i.invalid,disabled:!!i.disabled||v,checked:a.get("value")===i.value,focused:s,focusVisible:l,hovered:a.get("hoveredValue")===i.value,active:a.get("activeValue")===i.value}}function h(i){const s=g(i);return{"data-focus":y(s.focused),"data-focus-visible":y(s.focusVisible),"data-disabled":y(s.disabled),"data-readonly":y(m),"data-state":s.checked?"checked":"unchecked","data-hover":y(s.hovered),"data-invalid":y(s.invalid),"data-orientation":r("orientation"),"data-ssr":y(a.get("ssr"))}}const f=()=>{const i=Ye(u)??We(u);i==null||i.focus()};return{focus:f,value:a.get("value"),setValue(i){n({type:"SET_VALUE",value:i,isTrusted:!1})},clearValue(){n({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...k.root.attrs,role:"radiogroup",id:j(u),"aria-labelledby":ee(u),"data-orientation":r("orientation"),"data-disabled":y(v),"aria-orientation":r("orientation"),dir:r("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...k.label.attrs,dir:r("dir"),"data-orientation":r("orientation"),"data-disabled":y(v),id:ee(u),onClick:f})},getItemState:g,getItemProps(i){const s=g(i);return e.label({...k.item.attrs,dir:r("dir"),id:ce(u,i.value),htmlFor:Y(u,i.value),...h(i),onPointerMove(){s.disabled||s.hovered||n({type:"SET_HOVERED",value:i.value,hovered:!0})},onPointerLeave(){s.disabled||n({type:"SET_HOVERED",value:null})},onPointerDown(l){s.disabled||(s.focused&&l.pointerType==="mouse"&&l.preventDefault(),n({type:"SET_ACTIVE",value:i.value,active:!0}))},onPointerUp(){s.disabled||n({type:"SET_ACTIVE",value:null})},onClick(){var l;!s.disabled&&Ae()&&((l=Ge(u,i.value))==null||l.focus())}})},getItemTextProps(i){return e.element({...k.itemText.attrs,dir:r("dir"),id:Ke(u,i.value),...h(i)})},getItemControlProps(i){const s=g(i);return e.element({...k.itemControl.attrs,dir:r("dir"),id:ze(u,i.value),"data-active":y(s.active),"aria-hidden":!0,...h(i)})},getItemHiddenInputProps(i){const s=g(i);return e.input({"data-ownedby":j(u),id:Y(u,i.value),type:"radio",name:r("name")||r("id"),form:r("form"),value:i.value,onClick(l){if(m){l.preventDefault();return}l.currentTarget.checked&&n({type:"SET_VALUE",value:i.value,isTrusted:!0})},onBlur(){n({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){n({type:"SET_FOCUSED",value:i.value,focused:!0})},onKeyDown(l){l.defaultPrevented||l.key===" "&&n({type:"SET_ACTIVE",value:i.value,active:!0})},onKeyUp(l){l.defaultPrevented||l.key===" "&&n({type:"SET_ACTIVE",value:null})},disabled:s.disabled,defaultChecked:s.checked,style:Fe})},getIndicatorProps(){const i=a.get("indicatorRect");return e.element({id:ve(u),...k.indicator.attrs,dir:r("dir"),hidden:a.get("value")==null,"data-disabled":y(v),"data-orientation":r("orientation"),style:{"--transition-property":"left, top, width, height","--left":i==null?void 0:i.left,"--top":i==null?void 0:i.top,"--width":i==null?void 0:i.width,"--height":i==null?void 0:i.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:a.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[r("orientation")==="horizontal"?"left":"top"]:r("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:$e}=ke(),et=_e({props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(a){var n;(n=t("onValueChange"))==null||n({value:a})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:a}){t([()=>a.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:$e("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return qe(L(e),{onFieldsetDisabledChange(a){t.set("fieldsetDisabled",a)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){var e;return Oe({root:(e=t.getRootNode)==null?void 0:e.call(t)})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e}){t.set("focusedValue",e.value)},syncInputElements({context:t,scope:e}){te(e).forEach(n=>{n.checked=n.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",De(t.get("value")))},cleanupObserver({refs:t}){var e;(e=t.get("indicatorCleanup"))==null||e()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:a}){var u;if((u=a.get("indicatorCleanup"))==null||u(),!Me(e))return;const n=t.get("value"),d=Je(e,n);if(n==null||!d){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const r=xe([d],{measure(v){return Qe(v)},onEntry({rects:v}){t.set("indicatorRect",Xe(v[0]))}});a.set("indicatorCleanup",r)},dispatchChangeEvent({context:t,scope:e}){te(e).forEach(n=>{const d=n.value===t.get("value");d!==n.checked&&Re(n,{checked:d})})}}}});de()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);de()(["value","disabled","invalid"]);var tt=_("<div><div></div> <!></div>");function at(t,e){const a=Ie();H(e,!0);const n=o(e,"base",3,"inline-flex items-stretch overflow-hidden"),d=o(e,"background",3,"preset-outlined-surface-200-800"),r=o(e,"border",3,"p-2"),u=o(e,"gap",3,"gap-2"),v=o(e,"padding",3,""),m=o(e,"rounded",3,"rounded-container"),g=o(e,"width",3,""),h=o(e,"classes",3,""),f=o(e,"orientVertical",3,"flex-col items-stretch"),i=o(e,"orientHorizontal",3,"flex-row"),s=o(e,"stateDisabled",3,"disabled"),l=o(e,"stateReadOnly",3,"pointer-events-none"),I=o(e,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),b=o(e,"indicatorBg",3,"preset-filled"),S=o(e,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),T=o(e,"indicatorRounded",3,"rounded-base"),q=o(e,"indicatorClasses",3,""),P=o(e,"labelledby",3,""),U=le(e,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),w=je(et,()=>({id:a,orientation:e.orientation??"horizontal",...U})),x=V(()=>Ze(w,Ne));He({get api(){return c(x)},get indicatorText(){return S()}});const ge=V(()=>w.prop("orientation")==="vertical"?f():i()),me=V(()=>w.prop("disabled")?s():""),he=V(()=>w.prop("readOnly")?l():"");var F=tt();let J;var Q=E(F);let X;var be=R(Q,2);ue(be,()=>e.children??re),p(F),O((ye,pe)=>{J=D(F,J,{...ye,class:`${n()??""} ${c(ge)??""} ${d()??""} ${r()??""} ${v()??""} ${u()??""} ${m()??""} ${g()??""} ${c(me)??""} ${c(he)??""} ${h()??""}`,"aria-labelledby":P(),"data-testid":"segment"}),X=D(Q,X,{...pe,class:`${I()??""} ${b()??""} ${T()??""} ${q()??""}`,"data-testid":"segment-indicator"})},[()=>c(x).getRootProps(),()=>c(x).getIndicatorProps()]),C(t,F),N()}var it=_("<label><span><!></span> <input></label>");function nt(t,e){H(e,!0);let a=o(e,"base",3,"btn cursor-pointer z-[1]"),n=o(e,"classes",3,""),d=o(e,"stateDisabled",3,"disabled"),r=o(e,"stateFocused",3,"focused"),u=o(e,"labelBase",3,"pointer-events-none transition-colors duration-100"),v=o(e,"labelClasses",3,""),m=le(e,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const g=Le(),h=V(()=>g.api.getItemState(m)),f=V(()=>c(h).disabled?d():""),i=V(()=>c(h).checked?g.indicatorText:""),s=V(()=>c(h).focused?r():"");var l=it();let I;var b=E(l);let S;var T=E(b);ue(T,()=>e.children??re),p(b);var q=R(b,2);Ee(q);let P;p(l),O((U,w,x)=>{I=D(l,I,{...U,class:`${a()??""} ${c(f)??""} ${c(s)??""} ${n()??""}`,"data-testid":"segment-item"}),S=D(b,S,{...w,class:`${u()??""} ${c(i)??""} ${v()??""}`,"data-testid":"segment-item-label"}),P=D(q,P,{...x,"data-testid":"segment-item-input"})},[()=>g.api.getItemProps(m),()=>g.api.getItemTextProps(m),()=>g.api.getItemHiddenInputProps(m)]),C(t,l),N()}const ae=Object.assign(at,{Item:nt}),rt=["sine","square","sawtooth","triangle"],st=[{name:{ja:"ド",en:"C"},octave:4,frequency:261.63,isSharp:!1},{name:{ja:"ド#",en:"C#"},octave:4,frequency:277.18,isSharp:!0},{name:{ja:"レ",en:"D"},octave:4,frequency:293.66,isSharp:!1},{name:{ja:"レ#",en:"D#"},octave:4,frequency:311.13,isSharp:!0},{name:{ja:"ミ",en:"E"},octave:4,frequency:329.63,isSharp:!1},{name:{ja:"ファ",en:"F"},octave:4,frequency:349.23,isSharp:!1},{name:{ja:"ファ#",en:"F#"},octave:4,frequency:369.99,isSharp:!0},{name:{ja:"ソ",en:"G"},octave:4,frequency:392,isSharp:!1},{name:{ja:"ソ#",en:"G#"},octave:4,frequency:415.3,isSharp:!0},{name:{ja:"ラ",en:"A"},octave:4,frequency:440,isSharp:!1},{name:{ja:"ラ#",en:"A#"},octave:4,frequency:466.16,isSharp:!0},{name:{ja:"シ",en:"B"},octave:4,frequency:493.88,isSharp:!1},{name:{ja:"ド",en:"C"},octave:5,frequency:523.25,isSharp:!1}];function fe(t=0){const e=Math.pow(2,t);return st.map(({name:a,octave:n,frequency:d,isSharp:r})=>({name:a,octave:n+t,frequency:d*e,isSharp:r}))}fe(0);function ot(t,e,a){const n=t(),d=n.createOscillator(),r=n.createGain();return d.connect(r),r.connect(n.destination),d.type=e,d.frequency.setValueAtTime(a,n.currentTime),r.gain.setValueAtTime(.1,n.currentTime),d.start(),n}function lt(t){t.close()}var dt=_("<span> </span>"),ut=_("<button><!> <!></button>");function ie(t,e){H(e,!1);let a=o(e,"frequency",8),n=o(e,"waveType",8),d=o(e,"label",8,void 0),r=o(e,"iconName",8,void 0),u=o(e,"className",8,void 0),v=null;const m=()=>new window.AudioContext;function g(){v||(v=ot(m,n(),a()))}function h(){v&&(lt(v),v=null)}ne();var f=ut(),i=E(f);{var s=b=>{oe(b,{get icon(){return r()},class:"size-4"})};W(i,b=>{r()&&b(s)})}var l=R(i,2);{var I=b=>{var S=dt(),T=E(S,!0);p(S),O(()=>Se(T,d())),C(b,S)};W(l,b=>{d()&&b(I)})}p(f),O(()=>se(f,1,Ve(u()??"btn preset-filled"))),z("mousedown",f,g),z("mouseup",f,h),z("mouseleave",f,h),C(t,f),N()}var ct=_('<div class="relative flex-1"><!> <!></div>'),vt=_('<div class="w-80 h-32"><div></div></div>');function ft(t,e){H(e,!1);const a=B(),n=B(),d=B();let r=o(e,"waveType",8),u=o(e,"octaveShift",8),v=o(e,"includeRightC",8,!0);const m=[0,1,null,2,3,4,null,null];K(()=>Z(u()),()=>{A(a,fe(u()))}),K(()=>(Z(v()),c(a)),()=>{A(n,v()?c(a).filter(f=>!f.isSharp):c(a).filter(f=>!f.isSharp).slice(0,-1))}),K(()=>c(a),()=>{A(d,c(a).filter(f=>f.isSharp))}),Ce(),ne();var g=vt(),h=E(g);G(h,5,()=>c(n),M,(f,i,s)=>{var l=ct(),I=E(l);ie(I,{get frequency(){return c(i).frequency},get waveType(){return r()},className:"w-full h-full bg-white border border-gray-300 rounded-sm"});var b=R(I,2);{var S=T=>{ie(T,{get frequency(){return c(d)[m[s]].frequency},get waveType(){return r()},className:`
            absolute z-10 top-0 right-0 transform translate-x-1/2 w-3/5 h-3/5 bg-black rounded-lg pointer-events-auto
            `})};W(b,T=>{m[s]!==null&&T(S)})}p(l),C(f,l)}),p(h),p(g),O(()=>se(h,1,`w-full h-full grid grid-cols-${c(n).length??""}`)),C(t,g),N()}var gt=_('<div class="mt-4 flex items-center justify-center space-x-4"><!></div> <div class="flex"></div>',1);function mt(t,e){let a=o(e,"numOfOctaves",8,1),n=B("sine");var d=gt(),r=$(d),u=E(r);ae(u,{name:"waveType",get value(){return c(n)},onValueChange:m=>A(n,m.value),children:(m,g)=>{var h=Te(),f=$(h);G(f,1,()=>rt,M,(i,s)=>{ae.Item(i,{get value(){return c(s)},children:(l,I)=>{oe(l,{get icon(){return`mdi:${c(s)??""}-wave`},class:"size-4"})},$$slots:{default:!0}})}),C(m,h)},$$slots:{default:!0}}),p(r);var v=R(r,2);G(v,5,()=>Array(a()),M,(m,g)=>{ft(m,{get waveType(){return c(n)},octaveShift:0,includeRightC:!1})}),p(v),C(t,d)}var ht=_('<div class="flex flex-col items-center justify-center p-4 space-y-4"><h2 class="h2">Example Page</h2> <p class="mt-4">This is an example page.</p> <p class="mt-2">You can add your content here.</p> <hr class="w-full"> <!></div>');function Ct(t){var e=ht(),a=R(E(e),8);mt(a,{numOfOctaves:3}),p(e),C(t,e)}export{Ct as component};
